Sjasm Z80 Assembler v0.42c - www.xl2s.tk             [2013.12.24 - 14:32:00]

monitor_k7.asm
Errors: 0

       1   00:0000                      /***************************************
       2   00:0000                    ~ 
       3   00:0000                    ~        PROGRAMA MONITOR NESTOR
       4   00:0000                    ~            NOVA ELETRONICA
       5   00:0000                    ~     SAO PAULO S.P. 01/84 MSCS/JRP
       6   00:0000                    ~ 
       7   00:0000                    ~             Digitado por
       8   00:0000                    ~           Fábio Belavenuto
       9   00:0000                    ~             em 27/11/2012
      10   00:0000                    ~ 
      11   00:0000                    ~ ***************************************/
      12   00:0000                      
      13   00:0000                      /*******************
      14   00:0000                    ~   NOVA ELETRONICA
      15   00:0000                    ~  INTERFACE CASSETE
      16   00:0000                    ~    MICRO NESTOR
      17   00:0000                    ~ 
      18   00:0000                    ~    Digitado por
      19   00:0000                    ~  Fábio Belavenuto
      20   00:0000                    ~   em 15/04/2013
      21   00:0000                    ~ 
      22   00:0000                    ~ ********************/
      23   00:0000                      
      24   00:0000                      /**********************************
      25   00:0000                    ~ 
      26   00:0000                    ~  Firmware do Nestor+ fabricado por
      27   00:0000                    ~  Victor Trucco @ 2013
      28   00:0000                    ~ 
      29   00:0000                    ~  Contém o código do monitor em 0000h
      30   00:0000                    ~  e o código da interface K7 em 0800h
      31   00:0000                    ~ 
      32   00:0000                    ~  Alguns bugs dos códigos foram
      33   00:0000                    ~  corrigidos, que vieram com erros
      34   00:0000                    ~  na listagem original das revistas
      35   00:0000                    ~ 
      36   00:0000                    ~  Montar com o assembler SJASM
      37   00:0000                    ~ 
      38   00:0000                    ~ ***********************************/
      39   00:0000                      
      40   00:0000                      	output NESTOR.ROM
      41   00:0000                      	defpage 0,0000h,4096
      42   00:0000  (00)                	page 0
      43   00:0000                      
      44   00:0000                      	include "defs.inc"
       1.  00:0000                      
       2.  00:0000                      /***************************************
       3.  00:0000                    ~ 
       4.  00:0000                    ~        PROGRAMA MONITOR NESTOR
       5.  00:0000                    ~            NOVA ELETRONICA
       6.  00:0000                    ~     SAO PAULO SP 01/84 MSCS/JRP
       7.  00:0000                    ~             Digitado por
       8.  00:0000                    ~           Fábio Belavenuto
       9.  00:0000                    ~             em 27/11/2012
      10.  00:0000                    ~ 
      11.  00:0000                    ~ ***************************************/
      12.  00:0000                      
      13.  00:0000                      /***************************************
      14.  00:0000                    ~ 
      15.  00:0000                    ~  Variáveis, constantes e endereços da
      16.  00:0000                    ~  RAM usados pelo monitor e rotinas do
      17.  00:0000                    ~  K7 Podem ser utilizados em softwares
      18.  00:0000                    ~  utilitários incluindo este arquivo
      19.  00:0000                    ~ 
      20.  00:0000                    ~ ***************************************/
      21.  00:0000                      
      22.  00:0000                      // Portas I/O
      23.  00:0000  (00:0001)           PTEC		= 1
      24.  00:0000  (00:0001)           PSEG		= 1
      25.  00:0000  (00:0002)           PPE			= 2
      26.  00:0000  (00:0003)           PDIG		= 3
      27.  00:0000  (00:0004)           PPS			= 4
      28.  00:0000                      
      29.  00:0000                      // Constantes
      30.  00:0000                      // Códigos das teclas (AJCOL e AJTEC)
      31.  00:0000  (00:0000)           KEY_0		= 0
      32.  00:0000  (00:0001)           KEY_1		= 1
      33.  00:0000  (00:0002)           KEY_2		= 2
      34.  00:0000  (00:0003)           KEY_3		= 3
      35.  00:0000  (00:0004)           KEY_4		= 4
      36.  00:0000  (00:0005)           KEY_5		= 5
      37.  00:0000  (00:0006)           KEY_6		= 6
      38.  00:0000  (00:0007)           KEY_7		= 7
      39.  00:0000  (00:0008)           KEY_8		= 8
      40.  00:0000  (00:0009)           KEY_9		= 9
      41.  00:0000  (00:000A)           KEY_A		= 10
      42.  00:0000  (00:000B)           KEY_B		= 11
      43.  00:0000  (00:000C)           KEY_C		= 12
      44.  00:0000  (00:000D)           KEY_D		= 13
      45.  00:0000  (00:000E)           KEY_E		= 14
      46.  00:0000  (00:000F)           KEY_F		= 15
      47.  00:0000  (00:0010)           KEY_PERM	= 16
      48.  00:0000  (00:0011)           KEY_LOAD	= 17
      49.  00:0000  (00:0012)           KEY_1M		= 18
      50.  00:0000  (00:0013)           KEY_1P		= 19
      51.  00:0000  (00:0014)           KEY_RUN		= 20
      52.  00:0000  (00:0015)           KEY_ER		= 21
      53.  00:0000  (00:0016)           KEY_IV		= 22
      54.  00:0000  (00:0017)           KEY_QUAD	= 23
      55.  00:0000                      
      56.  00:0000                      // Caracteres para display 7-seg
      57.  00:0000  (00:00FF)           DIG_APAG	= 0FFh
      58.  00:0000  (00:00C0)           DIG_0		= 0C0h
      59.  00:0000  (00:00F9)           DIG_1		= 0F9h
      60.  00:0000  (00:00A4)           DIG_2		= 0A4h
      61.  00:0000  (00:00B0)           DIG_3		= 0B0h
      62.  00:0000  (00:0099)           DIG_4		= 99h
      63.  00:0000  (00:0092)           DIG_5		= 92h
      64.  00:0000  (00:0082)           DIG_6		= 82h
      65.  00:0000  (00:00F8)           DIG_7		= 0F8h
      66.  00:0000  (00:0080)           DIG_8		= 80h
      67.  00:0000  (00:0090)           DIG_9		= 90h
      68.  00:0000  (00:0088)           DIG_A		= 88h
      69.  00:0000  (00:0083)           DIG_B		= 83h
      70.  00:0000  (00:00C6)           DIG_C		= 0C6h
      71.  00:0000  (00:00A1)           DIG_D		= 0A1h
      72.  00:0000  (00:0086)           DIG_E		= 86h
      73.  00:0000  (00:008E)           DIG_F		= 8Eh
      74.  00:0000  (00:0082)           DIG_G		= 82h
      75.  00:0000  (00:0089)           DIG_H		= 89h
      76.  00:0000  (00:00F9)           DIG_I		= 0F9h
      77.  00:0000  (00:00E1)           DIG_J		= 0E1h
      78.  00:0000  (00:00C7)           DIG_L		= 0C7h
      79.  00:0000  (00:00C8)           DIG_N		= 0C8h
      80.  00:0000  (00:00C0)           DIG_O		= 0C0h
      81.  00:0000  (00:008C)           DIG_P		= 8Ch
      82.  00:0000  (00:0098)           DIG_Q		= 98h
      83.  00:0000  (00:00CE)           DIG_R		= 0CEh
      84.  00:0000  (00:0092)           DIG_S		= 92h
      85.  00:0000  (00:0087)           DIG_T		= 87h
      86.  00:0000  (00:00C1)           DIG_U		= 0C1h
      87.  00:0000  (00:007F)           DIG_PONTO	= 7Fh
      88.  00:0000  (00:00B7)           DIG_IGUAL	= 0B7h
      45   00:0000                      
      46   00:0000                      /*        MONITOR          */
      47   00:0000                      
      48   00:0000                      	code @ 0000h
      49   00:0000                      
      50   00:0000                      RESET:
      51   00:0000  31 00 9C            		ld		sp, PILHAI
      52   00:0003  C5                  		push	bc
      53   00:0004  D5                  		push	de
      54   00:0005  E5                  		push	hl
      55   00:0006  F5                  		push	af
      56   00:0007  21 E6 9B            		ld		hl, FLAG
      57   00:000A  36 19               		ld		(hl), 19h
      58   00:000C  21 69 00            		ld		hl, MENS
      59   00:000F  11 E7 9B            		ld		de, BUFDIS
      60   00:0012  01 06 00            		ld		bc, 6
      61   00:0015  ED B0               		ldir
      62   00:0017                      INICIO:
      63   00:0017  31 E4 9B            		ld		sp, PILHAT
      64   00:001A  21 E7 9B            		ld		hl, BUFDIS
      65   00:001D  06 00               		ld		b, 0
      66   00:001F  1E 06               		ld		e, 6
      67   00:0021  3E 01               		ld		a, 1
      68   00:0023                      NE1:
      69   00:0023  CD 96 00            		call	VARR
      70   00:0026  79                  		ld		a, c
      71   00:0027  87                  		add		a, a
      72   00:0028  1D                  		dec		e
      73   00:0029  C2 23 00            		jp		nz, NE1
      74   00:002C  78                  		ld		a, b
      75   00:002D  FE 00               		cp		0
      76   00:002F  CA 17 00            		jp		z, INICIO
      77   00:0032                      NE2:
      78   00:0032  21 E7 9B            		ld		hl, BUFDIS
      79   00:0035  CD A2 00            		call	REST
      80   00:0038  7A                  		ld		a, d
      81   00:0039  D3 03               		out		(PDIG), a
      82   00:003B  DB 01               		in		a, (PTEC)
      83   00:003D  FE 00               		cp		0
      84   00:003F  C2 32 00            		jp		nz, NE2
      85   00:0042  CD C3 00            		call	AJCOL
      86   00:0045  CD DE 00            		call	AJTEC
      87   00:0048  FE 17               		cp		KEY_QUAD
      88   00:004A  C2 50 00            		jp		nz, P1
      89   00:004D  C3 00 08            		jp		K7
      90   00:0050                      P1:
      91   00:0050  FE 15               		cp		KEY_ER
      92   00:0052  CA 7D 00            		jp		z, NE3
      93   00:0055  FE 10               		cp		KEY_PERM
      94   00:0057  DA 89 00            		jp		c, NE4
      95   00:005A                      NE5:
      96   00:005A  CD F6 00            		call	ALTCOM
      97   00:005D                      NE6:
      98   00:005D  21 E6 9B            		ld		hl, FLAG
      99   00:0060  7E                  		ld		a, (hl)
     100   00:0061  C3 6F 00            		jp		RECCOM
     101   00:0064                      
     102   00:0064                      /***************************************
     103   00:0064                    ~   PONTO DE ENTRADA DE INTERRUPCAO NMI
     104   00:0064                    ~ ***************************************/
     105   00:0064                      
     106   00:0064                      	code @ 66h
     107   00:0066                      
     108   00:0066  C3 F2 9B            		jp		ROTINT
     109   00:0069                      
     110   00:0069                      MENS:
     111   00:0069  C8 86 92 87 C0 CE   		db		DIG_N, DIG_E, DIG_S, DIG_T, DIG_O, DIG_R
     112   00:006F                      
     113   00:006F                      RECCOM:
     114   00:006F  21 32 03            		ld		hl, TABCOM
     115   00:0072  85                  		add		a, l
     116   00:0073  6F                  		ld		l, a
     117   00:0074  7E                  		ld		a, (hl)
     118   00:0075  4F                  		ld		c, a
     119   00:0076  3E 0A               		ld		a, 0Ah
     120   00:0078  85                  		add		a, l
     121   00:0079  6F                  		ld		l, a
     122   00:007A  6E                  		ld		l, (hl)
     123   00:007B  61                  		ld		h, c
     124   00:007C  E9                  		jp		(hl)
     125   00:007D                      NE3:
     126   00:007D  21 E6 9B            		ld		hl, FLAG
     127   00:0080  7E                  		ld		a, (hl)
     128   00:0081  FE 15               		cp		15h
     129   00:0083  CA F6 01            		jp		z, SELREG
     130   00:0086  C3 5A 00            		jp		NE5
     131   00:0089                      NE4:
     132   00:0089  21 E6 9B            		ld		hl, FLAG
     133   00:008C  7E                  		ld		a, (hl)
     134   00:008D  FE 15               		cp		15h
     135   00:008F  CA 07 02            		jp		z, ALTREG
     136   00:0092  00                  		nop
     137   00:0093  C3 5D 00            		jp		NE6
     138   00:0096                      
     139   00:0096                      /****************************************
     140   00:0096                    ~           ROTINA DE VARREDURA
     141   00:0096                    ~ ***************************************/
     142   00:0096                      
     143   00:0096                      VARR:
     144   00:0096  4F                  		ld		c, a
     145   00:0097  CD AF 00            		call	TEMPO
     146   00:009A  DB 01               		in		a, (PTEC)
     147   00:009C  FE 00               		cp		0
     148   00:009E  C8                  		ret		z
     149   00:009F  47                  		ld		b, a
     150   00:00A0  51                  		ld		d, c
     151   00:00A1  C9                  		ret
     152   00:00A2                      
     153   00:00A2                      /***************************************
     154   00:00A2                    ~          ROTINA DE RESTAURACAO
     155   00:00A2                    ~ ***************************************/
     156   00:00A2                      
     157   00:00A2                      REST:
     158   00:00A2  0E 06               		ld		c, 6
     159   00:00A4  3E 01               		ld		a, 1
     160   00:00A6                      NE7:
     161   00:00A6  CD AF 00            		call	TEMPO
     162   00:00A9  87                  		add		a, a
     163   00:00AA  0D                  		dec		c
     164   00:00AB  C8                  		ret		z
     165   00:00AC  C3 A6 00            		jp		NE7
     166   00:00AF                      
     167   00:00AF                      /***************************************
     168   00:00AF                    ~             ROTINA DE TEMPO
     169   00:00AF                    ~ ***************************************/
     170   00:00AF                      
     171   00:00AF                      TEMPO:
     172   00:00AF  F5                  		push	af
     173   00:00B0  D3 03               		out		(PDIG), a
     174   00:00B2  7E                  		ld		a, (hl)
     175   00:00B3  D3 01               		out		(PSEG), a
     176   00:00B5  D9                  		exx
     177   00:00B6  11 00 01            		ld		de, ATRASO
     178   00:00B9                      LOOP1:
     179   00:00B9  1B                  		dec		de
     180   00:00BA  7A                  		ld		a, d
     181   00:00BB  B3                  		or		e
     182   00:00BC  C2 B9 00            		jp		nz, LOOP1
     183   00:00BF  D9                  		exx
     184   00:00C0  23                  		inc		hl
     185   00:00C1  F1                  		pop		af
     186   00:00C2  C9                  		ret
     187   00:00C3                      
     188   00:00C3                      /***************************************
     189   00:00C3                    ~       ROTINA DE AJUSTE DE COLUNA
     190   00:00C3                    ~ ***************************************/
     191   00:00C3                      
     192   00:00C3                      AJCOL:
     193   00:00C3  0E 00               		ld		c, 0
     194   00:00C5  3E 01               		ld		a, 1
     195   00:00C7  BA                  		cp		d
     196   00:00C8  CA DC 00            		jp		z, NE8
     197   00:00CB  87                  		add		a, a
     198   00:00CC  0E 08               		ld		c, 8
     199   00:00CE  BA                  		cp		d
     200   00:00CF  CA DC 00            		jp		z, NE8
     201   00:00D2  87                  		add		a, a
     202   00:00D3  0E 10               		ld		c, 10h
     203   00:00D5  BA                  		cp		d
     204   00:00D6  CA DC 00            		jp		z, NE8
     205   00:00D9  C3 17 00            		jp		INICIO
     206   00:00DC                      NE8:
     207   00:00DC  51                  		ld		d, c
     208   00:00DD  C9                  		ret
     209   00:00DE                      
     210   00:00DE                      /***************************************
     211   00:00DE                    ~       ROTINA DE AJUSTE DE TECLA
     212   00:00DE                    ~ ***************************************/
     213   00:00DE                      
     214   00:00DE                      AJTEC:
     215   00:00DE  1E 08               		ld		e, 8
     216   00:00E0  0E 00               		ld		c, 0
     217   00:00E2  3E 01               		ld		a, 1
     218   00:00E4                      NE10:
     219   00:00E4  B8                  		cp		b
     220   00:00E5  CA F1 00            		jp		z, NE9
     221   00:00E8  0C                  		inc		c
     222   00:00E9  87                  		add		a, a
     223   00:00EA  1D                  		dec		e
     224   00:00EB  C2 E4 00            		jp		nz, NE10
     225   00:00EE  C3 17 00            		jp		INICIO
     226   00:00F1                      NE9:
     227   00:00F1  79                  		ld		a, c
     228   00:00F2  82                  		add		a, d
     229   00:00F3  47                  		ld		b, a
     230   00:00F4  00                  		nop
     231   00:00F5  C9                  		ret
     232   00:00F6                      
     233   00:00F6                      /***************************************
     234   00:00F6                    ~        ROTINA DE ALTERAR COMANDO
     235   00:00F6                    ~ ***************************************/
     236   00:00F6                      
     237   00:00F6                      ALTCOM:
     238   00:00F6  21 E6 9B            		ld		hl, FLAG
     239   00:00F9  70                  		ld		(hl), b
     240   00:00FA  C9                  		ret
     241   00:00FB                      
     242   00:00FB                      /***************************************
     243   00:00FB                    ~            ROTINA DE PERMISSAO
     244   00:00FB                    ~ ***************************************/
     245   00:00FB                      
     246   00:00FB                      ROTPER:
     247   00:00FB  0E 06               		ld		c, 6
     248   00:00FD  21 E6 9B            		ld		hl, FLAG
     249   00:0100  36 17               		ld		(hl), 17h
     250   00:0102  21 E7 9B            		ld		hl, BUFDIS
     251   00:0105                      NE11:
     252   00:0105  36 FF               		ld		(hl), DIG_APAG
     253   00:0107  23                  		inc		hl
     254   00:0108  0D                  		dec		c
     255   00:0109  C2 05 01            		jp		nz, NE11
     256   00:010C  36 00               		ld		(hl), 0
     257   00:010E  23                  		inc		hl
     258   00:010F  36 00               		ld		(hl), 0
     259   00:0111  23                  		inc		hl
     260   00:0112  36 00               		ld		(hl), 0
     261   00:0114  C3 17 00            		jp		INICIO
     262   00:0117                      
     263   00:0117                      /***************************************
     264   00:0117                    ~      ROTINA DE CAMPO DE ENDERECOS
     265   00:0117                    ~ ***************************************/
     266   00:0117                      
     267   00:0117                      ROTCP:
     268   00:0117  21 EE 9B            		ld		hl, PBE
     269   00:011A  78                  		ld		a, b
     270   00:011B  ED 6F               		rld
     271   00:011D  23                  		inc		hl
     272   00:011E  ED 6F               		rld
     273   00:0120  CD 5A 01            		call	DECOD
     274   00:0123  C3 17 00            		jp		INICIO
     275   00:0126                      
     276   00:0126                      /***************************************
     277   00:0126                    ~            ROTINA DE LEITURA
     278   00:0126                    ~ ***************************************/
     279   00:0126                      
     280   00:0126                      ROTLT:
     281   00:0126  CD 48 01            		call	ATUAL
     282   00:0129  21 E6 9B            		ld		hl, FLAG
     283   00:012C  36 18               		ld		(hl), 18h
     284   00:012E  21 EF 9B            		ld		hl, PAE
     285   00:0131  CD 5A 01            		call	DECOD
     286   00:0134  C3 17 00            		jp		INICIO
     287   00:0137                      
     288   00:0137                      /***************************************
     289   00:0137                    ~         ROTINA DE CAMPO DE DADOS
     290   00:0137                    ~ ***************************************/
     291   00:0137                      
     292   00:0137                      ROTCD:
     293   00:0137  CD 48 01            		call	ATUAL
     294   00:013A  78                  		ld		a, b
     295   00:013B  ED 6F               		rld
     296   00:013D  7E                  		ld		a, (hl)
     297   00:013E  12                  		ld		(de), a
     298   00:013F  21 EF 9B            		ld		hl, PAE
     299   00:0142  CD 5A 01            		call	DECOD
     300   00:0145  C3 17 00            		jp		INICIO
     301   00:0148                      
     302   00:0148                      /***************************************
     303   00:0148                    ~          ROTINA DE ATUALIZACAO
     304   00:0148                    ~ ***************************************/
     305   00:0148                      
     306   00:0148                      ATUAL:
     307   00:0148  21 EE 9B            		ld		hl, PBE
     308   00:014B  5E                  		ld		e, (hl)
     309   00:014C  23                  		inc		hl
     310   00:014D  56                  		ld		d, (hl)
     311   00:014E  1A                  		ld		a, (de)
     312   00:014F  2B                  		dec		hl
     313   00:0150  2B                  		dec		hl
     314   00:0151  77                  		ld		(hl), a
     315   00:0152  E5                  		push	hl
     316   00:0153  21 E6 9B            		ld		hl, FLAG
     317   00:0156  36 18               		ld		(hl), 18h
     318   00:0158  E1                  		pop		hl
     319   00:0159  C9                  		ret
     320   00:015A                      
     321   00:015A                      /***************************************
     322   00:015A                    ~         ROTINA DE DECODIFICACAO
     323   00:015A                    ~ ***************************************/
     324   00:015A                      
     325   00:015A                      DECOD:
     326   00:015A  01 E7 9B            		ld		bc, BUFDIS
     327   00:015D  CD 76 01            		call	DISPLAY
     328   00:0160  2B                  		dec		hl
     329   00:0161  CD 76 01            		call	DISPLAY
     330   00:0164  2B                  		dec		hl
     331   00:0165  CD 76 01            		call	DISPLAY
     332   00:0168  C9                  		ret
     333   00:0169                      
     334   00:0169                      /***************************************
     335   00:0169                    ~   ROTINA DE AJUSTE MEMORIA DE ENDERECO
     336   00:0169                    ~ ***************************************/
     337   00:0169                      
     338   00:0169                      RAME:
     339   00:0169  21 EE 9B            		ld		hl, PBE
     340   00:016C  73                  		ld		(hl), e
     341   00:016D  23                  		inc		hl
     342   00:016E  72                  		ld		(hl), d
     343   00:016F  2B                  		dec		hl
     344   00:0170  2B                  		dec		hl
     345   00:0171  1A                  		ld		a, (de)
     346   00:0172  77                  		ld		(hl), a
     347   00:0173  C9                  		ret
     348   00:0174                      
     349   00:0174  FF FF               		db		0FFh, 0FFh
     350   00:0176                      
     351   00:0176                      /***************************************
     352   00:0176                    ~            ROTINA DE DISPLAY
     353   00:0176                    ~ ***************************************/
     354   00:0176                      
     355   00:0176                      DISPLAY:
     356   00:0176  7E                  		ld		a, (hl)
     357   00:0177  E5                  		push	hl
     358   00:0178  21 F0 9B            		ld		hl, ROT
     359   00:017B  77                  		ld		(hl), a
     360   00:017C  AF                  		xor		a
     361   00:017D  ED 6F               		rld
     362   00:017F  CD 8E 01            		call	FORMAT
     363   00:0182  02                  		ld		(bc), a
     364   00:0183  03                  		inc		bc
     365   00:0184  AF                  		xor		a
     366   00:0185  ED 6F               		rld
     367   00:0187  CD 8E 01            		call	FORMAT
     368   00:018A  02                  		ld		(bc), a
     369   00:018B  03                  		inc		bc
     370   00:018C  E1                  		pop		hl
     371   00:018D  C9                  		ret
     372   00:018E                      
     373   00:018E                      /***************************************
     374   00:018E                    ~          ROTINA DE FORMATACAO
     375   00:018E                    ~ ***************************************/
     376   00:018E                      
     377   00:018E                      FORMAT:
     378   00:018E  D5                  		push	de
     379   00:018F  11 97 01            		ld		de, INTD
     380   00:0192  83                  		add		a, e
     381   00:0193  5F                  		ld		e, a
     382   00:0194  1A                  		ld		a, (de)
     383   00:0195  D1                  		pop		de
     384   00:0196  C9                  		ret
     385   00:0197                      
     386   00:0197                      /***************************************
     387   00:0197                    ~        TABELA DE FORMATOS ALFA
     388   00:0197                    ~ ***************************************/
     389   00:0197                      
     390   00:0197                      INTD:
     391   00:0197                      		db		DIG_0, DIG_1, DIG_2, DIG_3, DIG_4, DIG_5, DIG_6, DIG_7
     391   00:0197  C0 F9 A4 B0 99 92 82 F8 
     392   00:019F                      		db		DIG_8, DIG_9, DIG_A, DIG_B, DIG_C, DIG_D, DIG_E, DIG_F
     392   00:019F  80 90 88 83 C6 A1 86 8E 
     393   00:01A7                      
     394   00:01A7                      /***************************************
     395   00:01A7                    ~            ROTINA DE PROXIMO
     396   00:01A7                    ~ ***************************************/
     397   00:01A7                      
     398   00:01A7                      ROTPR:
     399   00:01A7  CD 48 01            		call	ATUAL
     400   00:01AA  13                  		inc		de
     401   00:01AB  CD 69 01            		call	RAME
     402   00:01AE  21 EF 9B            		ld		hl, PAE
     403   00:01B1  CD 5A 01            		call	DECOD
     404   00:01B4  C3 17 00            		jp		INICIO
     405   00:01B7                      
     406   00:01B7                      /***************************************
     407   00:01B7                    ~            ROTINA DE ULTIMO
     408   00:01B7                    ~ ***************************************/
     409   00:01B7                      
     410   00:01B7                      ROTUL:
     411   00:01B7  CD 48 01            		call	ATUAL
     412   00:01BA  1B                  		dec		de
     413   00:01BB  CD 69 01            		call	RAME
     414   00:01BE  21 EF 9B            		ld		hl, PAE
     415   00:01C1  CD 5A 01            		call	DECOD
     416   00:01C4  C3 17 00            		jp		INICIO
     417   00:01C7                      
     418   00:01C7  FF (3)              		ds		3, 0FFh					// 01C5 à 01C7 - NAO USADAS
     419   00:01CA                      
     420   00:01CA                      /***************************************
     421   00:01CA                    ~             ROTINA DE RODAR
     422   00:01CA                    ~ ***************************************/
     423   00:01CA                      
     424   00:01CA                      ROTRD:
     425   00:01CA  3E FF               		ld		a, 0FFh
     426   00:01CC  D3 03               		out		(PDIG), a
     427   00:01CE  3E 7F               		ld		a, DIG_PONTO
     428   00:01D0  D3 01               		out		(PSEG), a
     429   00:01D2  21 ED 9B            		ld		hl, ENDISP
     430   00:01D5  36 C3               		ld		(hl), 0C3h
     431   00:01D7  31 F8 9B            		ld		sp, PILHARR
     432   00:01DA  F5                  		push	af
     433   00:01DB  E5                  		push	hl
     434   00:01DC  D5                  		push	de
     435   00:01DD  C5                  		push	bc
     436   00:01DE  31 E4 9B            		ld		sp, PILHAT
     437   00:01E1  C3 ED 9B            		jp		ENDISP
     438   00:01E4                      
     439   00:01E4                      /***************************************
     440   00:01E4                    ~     ROTINA DE EXAME DE REGISTRADORES
     441   00:01E4                    ~ ***************************************/
     442   00:01E4                      
     443   00:01E4                      ROTER:
     444   00:01E4  21 E5 9B            		ld		hl, MENCON
     445   00:01E7  36 FE               		ld		(hl), 0FEh
     446   00:01E9  C3 F6 01            		jp		SELREG
     447   00:01EC                      
     448   00:01EC                      /***************************************
     449   00:01EC                    ~         ROTINA DE INICIALIZACAO
     450   00:01EC                    ~ ***************************************/
     451   00:01EC                      
     452   00:01EC                      INICIAL:
     453   00:01EC  21 E7 9B            		ld		hl, BUFDIS
     454   00:01EF  36 FF               		ld		(hl), DIG_APAG
     455   00:01F1  23                  		inc		hl
     456   00:01F2  36 FF               		ld		(hl), DIG_APAG
     457   00:01F4  23                  		inc		hl
     458   00:01F5  C9                  		ret
     459   00:01F6                      
     460   00:01F6                      /***************************************
     461   00:01F6                    ~    ROTINA DE SELECAO DE REGISTRADORES
     462   00:01F6                    ~ ***************************************/
     463   00:01F6                      
     464   00:01F6                      SELREG:
     465   00:01F6  11 06 03            		ld		de, TABREG
     466   00:01F9  21 E5 9B            		ld		hl, MENCON
     467   00:01FC  34                  		inc		(hl)
     468   00:01FD  34                  		inc		(hl)
     469   00:01FE  7B                  		ld		a, e
     470   00:01FF  86                  		add		a, (hl)
     471   00:0200                      NE12:
     472   00:0200  5F                  		ld		e, a
     473   00:0201  1A                  		ld		a, (de)
     474   00:0202  6F                  		ld		l, a
     475   00:0203  13                  		inc		de
     476   00:0204  1A                  		ld		a, (de)
     477   00:0205  67                  		ld		h, a
     478   00:0206  E9                  		jp		(hl)
     479   00:0207                      
     480   00:0207                      /***************************************
     481   00:0207                    ~   ROTINA DE ALTERACAO DE REGISTRADORES
     482   00:0207                    ~ ***************************************/
     483   00:0207                      
     484   00:0207                      ALTREG:
     485   00:0207  21 E5 9B            		ld		hl, MENCON
     486   00:020A  11 1D 03            		ld		de, TABALT
     487   00:020D  7B                  		ld		a, e
     488   00:020E  86                  		add		a, (hl)
     489   00:020F  C3 00 02            		jp		NE12
     490   00:0212                      
     491   00:0212                      /***************************************
     492   00:0212                    ~              REGISTRADOR A
     493   00:0212                    ~ ***************************************/
     494   00:0212                      
     495   00:0212                      REGA:
     496   00:0212  CD EC 01            		call	INICIAL
     497   00:0215  36 88               		ld		(hl), DIG_A
     498   00:0217  23                  		inc		hl
     499   00:0218  36 B7               		ld		(hl), DIG_IGUAL
     500   00:021A  21 F9 9B            		ld		hl, MENA
     501   00:021D  C3 20 02            		jp		ROTSA
     502   00:0220                      
     503   00:0220                      /***************************************
     504   00:0220                    ~             ROTINA DE SAIDA
     505   00:0220                    ~ ***************************************/
     506   00:0220                      
     507   00:0220                      ROTSA:
     508   00:0220  01 EB 9B            		ld		bc, BYTE5
     509   00:0223  CD 76 01            		call	DISPLAY
     510   00:0226  C3 17 00            		jp		INICIO
     511   00:0229                      
     512   00:0229                      /***************************************
     513   00:0229                    ~           ALTERA REGISTRADOR A
     514   00:0229                    ~ ***************************************/
     515   00:0229                      
     516   00:0229                      ALTA:
     517   00:0229  21 F9 9B            		ld		hl, MENA
     518   00:022C  78                  		ld		a, b
     519   00:022D  ED 6F               		rld
     520   00:022F  C3 20 02            		jp		ROTSA
     521   00:0232                      
     522   00:0232                      /***************************************
     523   00:0232                    ~              REGISTRADOR B
     524   00:0232                    ~ ***************************************/
     525   00:0232                      
     526   00:0232                      REGB:
     527   00:0232  CD EC 01            		call	INICIAL
     528   00:0235  36 83               		ld		(hl), DIG_B
     529   00:0237  23                  		inc		hl
     530   00:0238  36 B7               		ld		(hl), DIG_IGUAL
     531   00:023A  21 FF 9B            		ld		hl, MENB
     532   00:023D  C3 20 02            		jp		ROTSA
     533   00:0240                      
     534   00:0240                      /***************************************
     535   00:0240                    ~           ALTERA REGISTRADOR B
     536   00:0240                    ~ ***************************************/
     537   00:0240                      
     538   00:0240                      ALTB:
     539   00:0240  21 FF 9B            		ld		hl, MENB
     540   00:0243  78                  		ld		a, b
     541   00:0244  ED 6F               		rld
     542   00:0246  C3 20 02            		jp		ROTSA
     543   00:0249                      
     544   00:0249                      /***************************************
     545   00:0249                    ~              REGISTRADOR C
     546   00:0249                    ~ ***************************************/
     547   00:0249                      
     548   00:0249                      REGC:
     549   00:0249  CD EC 01            		call	INICIAL
     550   00:024C  36 C6               		ld		(hl), DIG_C
     551   00:024E  23                  		inc		hl
     552   00:024F  36 B7               		ld		(hl), DIG_IGUAL
     553   00:0251  21 FE 9B            		ld		hl, MENC
     554   00:0254  C3 20 02            		jp		ROTSA
     555   00:0257                      
     556   00:0257                      /***************************************
     557   00:0257                    ~           ALTERA REGISTRADOR C
     558   00:0257                    ~ ***************************************/
     559   00:0257                      
     560   00:0257                      ALTC:
     561   00:0257  21 FE 9B            		ld		hl, MENC
     562   00:025A  78                  		ld		a, b
     563   00:025B  ED 6F               		rld
     564   00:025D  C3 20 02            		jp		ROTSA
     565   00:0260                      
     566   00:0260                      /***************************************
     567   00:0260                    ~              REGISTRADOR D
     568   00:0260                    ~ ***************************************/
     569   00:0260                      
     570   00:0260                      REGD:
     571   00:0260  CD EC 01            		call	INICIAL
     572   00:0263  36 A1               		ld		(hl), DIG_D
     573   00:0265  23                  		inc		hl
     574   00:0266  36 B7               		ld		(hl), DIG_IGUAL
     575   00:0268  21 FD 9B            		ld		hl, MEND
     576   00:026B  C3 20 02            		jp		ROTSA
     577   00:026E                      
     578   00:026E                      /***************************************
     579   00:026E                    ~           ALTERA REGISTRADOR D
     580   00:026E                    ~ ***************************************/
     581   00:026E                      
     582   00:026E                      ALTD:
     583   00:026E  21 FD 9B            		ld		hl, MEND
     584   00:0271  78                  		ld		a, b
     585   00:0272  ED 6F               		rld
     586   00:0274  C3 20 02            		jp		ROTSA
     587   00:0277                      
     588   00:0277                      /***************************************
     589   00:0277                    ~              REGISTRADOR E
     590   00:0277                    ~ ***************************************/
     591   00:0277                      
     592   00:0277                      REGE:
     593   00:0277  CD EC 01            		call	INICIAL
     594   00:027A  36 86               		ld		(hl), DIG_E
     595   00:027C  23                  		inc		hl
     596   00:027D  36 B7               		ld		(hl), DIG_IGUAL
     597   00:027F  21 FC 9B            		ld		hl, MENE
     598   00:0282  C3 20 02            		jp		ROTSA
     599   00:0285                      
     600   00:0285                      /***************************************
     601   00:0285                    ~           ALTERA REGISTRADOR E
     602   00:0285                    ~ ***************************************/
     603   00:0285                      
     604   00:0285                      ALTE:
     605   00:0285  21 FC 9B            		ld		hl, MENE
     606   00:0288  78                  		ld		a, b
     607   00:0289  ED 6F               		rld
     608   00:028B  C3 20 02            		jp		ROTSA
     609   00:028E                      
     610   00:028E                      /***************************************
     611   00:028E                    ~              REGISTRADOR H
     612   00:028E                    ~ ***************************************/
     613   00:028E                      
     614   00:028E                      REGH:
     615   00:028E  CD EC 01            		call	INICIAL
     616   00:0291  36 89               		ld		(hl), DIG_H
     617   00:0293  23                  		inc		hl
     618   00:0294  36 B7               		ld		(hl), DIG_IGUAL
     619   00:0296  21 FB 9B            		ld		hl, MENH
     620   00:0299  C3 20 02            		jp		ROTSA
     621   00:029C                      
     622   00:029C                      /***************************************
     623   00:029C                    ~           ALTERA REGISTRADOR H
     624   00:029C                    ~ ***************************************/
     625   00:029C                      
     626   00:029C                      ALTH:
     627   00:029C  21 FB 9B            		ld		hl, MENH
     628   00:029F  78                  		ld		a, b
     629   00:02A0  ED 6F               		rld
     630   00:02A2  C3 20 02            		jp		ROTSA
     631   00:02A5                      
     632   00:02A5                      /***************************************
     633   00:02A5                    ~              REGISTRADOR L
     634   00:02A5                    ~ ***************************************/
     635   00:02A5                      
     636   00:02A5                      REGL:
     637   00:02A5  CD EC 01            		call	INICIAL
     638   00:02A8  36 C7               		ld		(hl), DIG_L
     639   00:02AA  23                  		inc		hl
     640   00:02AB  36 B7               		ld		(hl), DIG_IGUAL
     641   00:02AD  21 FA 9B            		ld		hl, MENL
     642   00:02B0  C3 20 02            		jp		ROTSA
     643   00:02B3                      
     644   00:02B3                      /***************************************
     645   00:02B3                    ~           ALTERA REGISTRADOR L
     646   00:02B3                    ~ ***************************************/
     647   00:02B3                      
     648   00:02B3                      ALTL:
     649   00:02B3  21 FA 9B            		ld		hl, MENL
     650   00:02B6  78                  		ld		a, b
     651   00:02B7  ED 6F               		rld
     652   00:02B9  C3 20 02            		jp		ROTSA
     653   00:02BC                      
     654   00:02BC                      /***************************************
     655   00:02BC                    ~              REGISTRADOR F
     656   00:02BC                    ~ ***************************************/
     657   00:02BC                      
     658   00:02BC                      REGF:
     659   00:02BC  CD EC 01            		call	INICIAL
     660   00:02BF  36 8E               		ld		(hl), DIG_F
     661   00:02C1  23                  		inc		hl
     662   00:02C2  36 B7               		ld		(hl), DIG_IGUAL
     663   00:02C4  21 F8 9B            		ld		hl, MENF
     664   00:02C7  C3 20 02            		jp		ROTSA
     665   00:02CA                      
     666   00:02CA                      /***************************************
     667   00:02CA                    ~           ALTERA REGISTRADOR F
     668   00:02CA                    ~ ***************************************/
     669   00:02CA                      
     670   00:02CA                      ALTF:
     671   00:02CA  21 F8 9B            		ld		hl, MENF
     672   00:02CD  78                  		ld		a, b
     673   00:02CE  ED 6F               		rld
     674   00:02D0  C3 20 02            		jp		ROTSA
     675   00:02D3                      
     676   00:02D3                      /***************************************
     677   00:02D3                    ~              REGISTRADOR I
     678   00:02D3                    ~ ***************************************/
     679   00:02D3                      
     680   00:02D3                      REGI:
     681   00:02D3  ED 57               		ld		a, i
     682   00:02D5  21 F7 9B            		ld		hl, MENI
     683   00:02D8  77                  		ld		(hl), a
     684   00:02D9  CD EC 01            		call	INICIAL
     685   00:02DC  36 F9               		ld		(hl), DIG_I
     686   00:02DE  23                  		inc		hl
     687   00:02DF  36 B7               		ld		(hl), DIG_IGUAL
     688   00:02E1  21 F7 9B            		ld		hl, MENI
     689   00:02E4  C3 20 02            		jp		ROTSA
     690   00:02E7                      
     691   00:02E7                      /***************************************
     692   00:02E7                    ~           ALTERA REGISTRADOR I
     693   00:02E7                    ~ ***************************************/
     694   00:02E7                      
     695   00:02E7                      ALTI:
     696   00:02E7  21 F7 9B            		ld		hl, MENI
     697   00:02EA  78                  		ld		a, b
     698   00:02EB  ED 6F               		rld
     699   00:02ED  7E                  		ld		a, (hl)
     700   00:02EE  ED 47               		ld		i, a
     701   00:02F0  C3 20 02            		jp		ROTSA
     702   00:02F3                      
     703   00:02F3                      /***************************************
     704   00:02F3                    ~    ROTINA PARA O VETOR DE INTERRUPCAO
     705   00:02F3                    ~ ***************************************/
     706   00:02F3                      
     707   00:02F3                      RIV:
     708   00:02F3  01 F2 9B            		ld		bc, ROTINT
     709   00:02F6  3E C3               		ld		a, 0C3h
     710   00:02F8  02                  		ld		(bc), a
     711   00:02F9  03                  		inc		bc
     712   00:02FA  21 EE 9B            		ld		hl, PBE
     713   00:02FD  7E                  		ld		a, (hl)
     714   00:02FE  02                  		ld		(bc), a
     715   00:02FF  03                  		inc		bc
     716   00:0300  23                  		inc		hl
     717   00:0301  7E                  		ld		a, (hl)
     718   00:0302  02                  		ld		(bc), a
     719   00:0303  C3 17 00            		jp		INICIO
     720   00:0306                      
     721   00:0306                      /***************************************
     722   00:0306                    ~   TABELA PARA SELECAO DE REGISTRADORES
     723   00:0306                    ~ ***************************************/
     724   00:0306                      
     725   00:0306                      TABREG:
     726   00:0306  12 02               		dw		REGA
     727   00:0308  32 02               		dw		REGB
     728   00:030A  49 02               		dw		REGC
     729   00:030C  60 02               		dw		REGD
     730   00:030E  77 02               		dw		REGE
     731   00:0310  8E 02               		dw		REGH
     732   00:0312  A5 02               		dw		REGL
     733   00:0314  BC 02               		dw		REGF
     734   00:0316  D3 02               		dw		REGI
     735   00:0318  1A 03               		dw		JR
     736   00:031A                      JR:
     737   00:031A  C3 E4 01            		jp		ROTER
     738   00:031D                      
     739   00:031D                      /***************************************
     740   00:031D                    ~   TABELA DE ALTERACAO DE REGISTRADORES
     741   00:031D                    ~ ***************************************/
     742   00:031D                      
     743   00:031D                      TABALT:
     744   00:031D  29 02               		dw		ALTA
     745   00:031F  40 02               		dw		ALTB
     746   00:0321  57 02               		dw		ALTC
     747   00:0323  6E 02               		dw		ALTD
     748   00:0325  85 02               		dw		ALTE
     749   00:0327  9C 02               		dw		ALTH
     750   00:0329  B3 02               		dw		ALTL
     751   00:032B  CA 02               		dw		ALTF
     752   00:032D  E7 02               		dw		ALTI
     753   00:032F  FF (3)              		ds		3, 0FFh
     754   00:0332                      
     755   00:0332                      /***************************************
     756   00:0332                    ~      TABELA DE SELECAO DE COMANDOS
     757   00:0332                    ~ ***************************************/
     758   00:0332                      
     759   00:0332                      TABCOM:
     760   00:0332  00 (16)             		ds		16, 0
     761   00:0342                      		db		high ROTPER, high ROTLT, high ROTUL, high ROTPR, high ROTRD, high ROTER, high RIV, high ROTCP, high ROTCD, high INICIO
     761   00:0342  00 01 01 01 01 01 02 01 01 00 
     762   00:034C                      		db		 low ROTPER,  low ROTLT,  low ROTUL,  low ROTPR,  low ROTRD,  low ROTER,  low RIV,  low ROTCP,  low ROTCD,  low INICIO
     762   00:034C  FB 26 B7 A7 CA E4 F3 17 37 17 
     763   00:0356  00 (229)            		ds		229, 0
     764   00:043B                      
     765   00:043B                      
     766   00:043B                      
     767   00:043B                      /*********************************************
     768   00:043B                    ~         ROTINA DE LEITURA DE CASSETE
     769   00:043B                    ~ **********************************************/
     770   00:043B                      
     771   00:043B                      	code @ 0800h
     772   00:0800                      K7:
     773   00:0800  3E 00               		ld		a, 0
     774   00:0802  32 59 9B            		ld		(CONT), a
     775   00:0805  21 4B 0A            		ld		hl, TITULO
     776   00:0808                      NEC1:
     777   00:0808  11 5A 9B            		ld		de, DISP
     778   00:080B  01 06 00            		ld		bc, 6
     779   00:080E  ED B0               		ldir
     780   00:0810                      NEC2:
     781   00:0810  21 5A 9B            		ld		hl, DISP
     782   00:0813  06 00               		ld		b, 0
     783   00:0815  1E 06               		ld		e, 6
     784   00:0817  3E 01               		ld		a, 1
     785   00:0819                      NEC3:
     786   00:0819  CD 96 00            		call	VARR
     787   00:081C  79                  		ld		a, c
     788   00:081D  87                  		add		a, a
     789   00:081E  1D                  		dec		e
     790   00:081F  20 F8               		jr		nz, NEC3
     791   00:0821  78                  		ld		a, b
     792   00:0822  FE 00               		cp		0
     793   00:0824  28 EA               		jr		z, NEC2
     794   00:0826                      NEC4:
     795   00:0826  21 5A 9B            		ld		hl, DISP
     796   00:0829  CD A2 00            		call	REST
     797   00:082C  7A                  		ld		a, d
     798   00:082D  D3 03               		out		(PDIG), a
     799   00:082F  DB 01               		in		a, (PTEC)
     800   00:0831  FE 00               		cp		0
     801   00:0833  20 F1               		jr		nz, NEC4
     802   00:0835  CD C3 00            		call	AJCOL
     803   00:0838  CD DE 00            		call	AJTEC
     804   00:083B  FE 14               		cp		KEY_RUN
     805   00:083D  CA 64 08            		jp		z, GO
     806   00:0840  FE 10               		cp		KEY_PERM
     807   00:0842  38 10               		jr		c, NEC5
     808   00:0844  FE 13               		cp		KEY_1P
     809   00:0846  28 03               		jr		z, NEC6
     810   00:0848  C3 10 08            		jp		NEC2
     811   00:084B                      NEC6:
     812   00:084B  3A 59 9B            		ld		a, (CONT)
     813   00:084E  FE 00               		cp		0
     814   00:0850  CA 5B 09            		jp		z, LFITA
     815   00:0853  C7                  		rst		0
     816   00:0854                      NEC5:
     817   00:0854  3A 59 9B            		ld		a, (CONT)
     818   00:0857  FE 00               		cp		0
     819   00:0859  28 2F               		jr		z, FILE
     820   00:085B  FE 01               		cp		1
     821   00:085D  28 30               		jr		z, FONTE
     822   00:085F  FE 02               		cp		2
     823   00:0861  28 31               		jr		z, FINAL
     824   00:0863  C7                  		rst		0
     825   00:0864                      GO:
     826   00:0864  3A 59 9B            		ld		a, (CONT)
     827   00:0867  FE 00               		cp		0
     828   00:0869  28 09               		jr		z, FONTE1
     829   00:086B  FE 01               		cp		1
     830   00:086D  28 10               		jr		z, FINAL1
     831   00:086F  FE 02               		cp		2
     832   00:0871  28 44               		jr		z, GFITA
     833   00:0873  C7                  		rst		0
     834   00:0874                      FONTE1:
     835   00:0874  21 51 0A            		ld		hl, MFONTE
     836   00:0877  3E 01               		ld		a, 1
     837   00:0879  32 59 9B            		ld		(CONT), a
     838   00:087C  C3 08 08            		jp		NEC1
     839   00:087F                      FINAL1:
     840   00:087F  21 57 0A            		ld		hl, MFINAL
     841   00:0882  3E 02               		ld		a, 2
     842   00:0884  32 59 9B            		ld		(CONT), a
     843   00:0887  C3 08 08            		jp		NEC1
     844   00:088A                      FILE:
     845   00:088A  21 50 9B            		ld		hl, BUF
     846   00:088D  18 08               		jr		GERAL
     847   00:088F                      FONTE:
     848   00:088F  21 52 9B            		ld		hl, BUF+2
     849   00:0892  18 03               		jr		GERAL
     850   00:0894                      FINAL:
     851   00:0894  21 54 9B            		ld		hl, BUF+4
     852   00:0897                      GERAL:
     853   00:0897  3E FF               		ld		a, DIG_APAG				// Apaga 2 ultimos displays
     854   00:0899  32 5E 9B            		ld		(DISP+4), a
     855   00:089C  32 5F 9B            		ld		(DISP+5), a
     856   00:089F  78                  		ld		a, b
     857   00:08A0  E5                  		push	hl
     858   00:08A1  ED 6F               		rld
     859   00:08A3  23                  		inc		hl
     860   00:08A4  ED 6F               		rld
     861   00:08A6  01 5C 9B            		ld		bc, DISP+2
     862   00:08A9  E1                  		pop		hl
     863   00:08AA  CD 76 01            		call	DISPLAY
     864   00:08AD  23                  		inc		hl
     865   00:08AE  01 5A 9B            		ld		bc, DISP
     866   00:08B1  CD 76 01            		call	DISPLAY
     867   00:08B4  C3 10 08            		jp		NEC2
     868   00:08B7                      ;
     869   00:08B7                      ; ROTINA DE GRAVAÇÃO DE FITA
     870   00:08B7                      ;
     871   00:08B7                      GFITA:
     872   00:08B7  3E FF               		ld		a, 0FFh					// seta todos os displays
     873   00:08B9  D3 03               		out		(PDIG), a
     874   00:08BB  3E F7               		ld		a, 0F7h					// seta segmento D "____ __"
     875   00:08BD  D3 01               		out		(PSEG), a
     876   00:08BF  CD EC 08            		call	CBYTES					// calcular checksum
     877   00:08C2  DA 2F 0A            		jp		c, MERRO				// se houve erro (endF < endI) exibimos no display 
     878   00:08C5  32 56 9B            		ld		(BUF+6), a				// colocamos checksum no cabecalho
     879   00:08C8  21 A0 0F            		ld		hl, 4000				// 4 segundos
     880   00:08CB  CD 43 09            		call	GE1KHZ					// geramos 4 segs. de 1KHz
     881   00:08CE  21 50 9B            		ld		hl, BUF					// HL aponta para o cabecalho
     882   00:08D1  01 07 00            		ld		bc, 7					// sao 7 bytes de cabecalho
     883   00:08D4  CD 0C 09            		call	SAFITA					// geramos os 7 bytes
     884   00:08D7  21 D0 07            		ld		hl, 2000				// 2 segundos
     885   00:08DA  CD 47 09            		call	GE2KHZ					// geramos 2 segs. de 2KHz
     886   00:08DD  CD F9 08            		call	PARAM					// calculamos de novo os parametros. HL aponta para dados,
     887   00:08E0  CD 0C 09            		call	SAFITA					// BC tem o tamanho dos dados, geramos os BC bytes para a fita
     888   00:08E3  21 A0 0F            		ld		hl, 4000				// 4 segundos
     889   00:08E6  CD 47 09            		call	GE2KHZ					// terminamos com 4 segs. de tom 2KHz
     890   00:08E9  C3 37 0A            		jp		MFIM					// e acabou
     891   00:08EC                      ;
     892   00:08EC                      ; ROTINA CALC. NUMERO DE BYTES
     893   00:08EC                      ;
     894   00:08EC                      CBYTES:
     895   00:08EC  CD F9 08            		call	PARAM					// vamos calcular os parametros
     896   00:08EF  D8                  		ret		c						// se end. final for menor que end. inicial deu erro, retornamos
     897   00:08F0  AF                  		xor		a						// zeramos A
     898   00:08F1                      SOMA:
     899   00:08F1  86                  		add		a, (hl)					// somamos um byte
     900   00:08F2  ED A1               		cpi								// incrementa HL e decrementa BC
     901   00:08F4  EA F1 08            		jp		pe, SOMA				// se ainda nao acabou, voltamos para o loop
     902   00:08F7  B7                  		or		a						// zeramos carry
     903   00:08F8  C9                  		ret								// A contem o checksum
     904   00:08F9                      ;
     905   00:08F9                      ; ROTINA CALC. PARAMETROS
     906   00:08F9                      ;
     907   00:08F9                      PARAM:
     908   00:08F9  21 52 9B            		ld		hl, BUF+2				// aponta para end. inicial
     909   00:08FC  5E                  		ld		e, (hl)					// End. inicial (low)
     910   00:08FD  23                  		inc		hl
     911   00:08FE  56                  		ld		d, (hl)					// End. inicial (high)
     912   00:08FF  23                  		inc		hl
     913   00:0900  4E                  		ld		c, (hl)					// End. final (low)
     914   00:0901  23                  		inc		hl
     915   00:0902  66                  		ld		h, (hl)					// End. final (high)
     916   00:0903  69                  		ld		l, c
     917   00:0904  B7                  		or		a
     918   00:0905  ED 52               		sbc		hl, de					// DE = end. inicial, HL = end. final
     919   00:0907  4D                  		ld		c, l
     920   00:0908  44                  		ld		b, h
     921   00:0909  03                  		inc		bc						// BC = comprimento dos dados
     922   00:090A  EB                  		ex		de, hl					// HL = end. inicial, DE = end. final
     923   00:090B  C9                  		ret								// se DE < HL sai com carry=1 (condicao de erro)
     924   00:090C                      ;
     925   00:090C                      ; ROTINA DE SAIDA PARA A FITA
     926   00:090C                      ;
     927   00:090C                      SAFITA:
     928   00:090C  5E                  		ld		e, (hl)					// pegamos um byte dos dados
     929   00:090D  CD 16 09            		call	SABYTE					// geramos os bits para a fita
     930   00:0910  ED A1               		cpi								// incrementa HL e decrementa BC
     931   00:0912  EA 0C 09            		jp		pe, SAFITA				// se ainda nao acabou, retornamos ao loop
     932   00:0915  C9                  		ret								// acabou, voltamos
     933   00:0916                      ;
     934   00:0916                      ; ROTINA DE SAIDA DE BYTES
     935   00:0916                      ;
     936   00:0916                      SABYTE:
     937   00:0916  16 08               		ld		d, 8					// vamos gerar 8 bits
     938   00:0918  B7                  		or		a						// bit de start eh 0
     939   00:0919  CD 29 09            		call	SAIBIT					// geramos bit de start
     940   00:091C                      LOOPC1:
     941   00:091C  CB 1B               		rr		e						// vamos enviar o bit LSB primeiro
     942   00:091E  CD 29 09            		call	SAIBIT					// geramos ele
     943   00:0921  15                  		dec		d						// se ainda nao gerou os 8 bits do byte,
     944   00:0922  20 F8               		jr		nz, LOOPC1				// volta ao loop
     945   00:0924  37                  		scf								// bit de stop eh 1
     946   00:0925  CD 29 09            		call	SAIBIT					// geramos bit de stop
     947   00:0928  C9                  		ret								// acabou, voltamos
     948   00:0929                      ;
     949   00:0929                      ; ROTINA DE SAIDA DE BITS
     950   00:0929                      ;
     951   00:0929                      SAIBIT:
     952   00:0929  D9                  		exx								// salva registradores
     953   00:092A  26 00               		ld		h, 0					// zera H
     954   00:092C  38 09               		jr		c, SAI1					// se bit a ser gerado for 1, pulamos
     955   00:092E                      SAI0:
     956   00:092E  2E 08               		ld		l, ZERO2K				// gerar bit 0: 8 ciclos de 2KHz
     957   00:0930  CD 47 09            		call	GE2KHZ
     958   00:0933  2E 02               		ld		l, ZERO1K				// e 2 ciclos de 1KHz
     959   00:0935  18 07               		jr		FINAL2					// pulamos
     960   00:0937                      SAI1:
     961   00:0937  2E 04               		ld		l, UM2K					// gerar bit 1: 4 ciclos de 2KHz
     962   00:0939  CD 47 09            		call	GE2KHZ
     963   00:093C  2E 04               		ld		l, UM1K					// e 4 ciclos de 1KHz
     964   00:093E                      FINAL2:
     965   00:093E  CD 43 09            		call	GE1KHZ					// geramos o sinal de 1KHz
     966   00:0941  D9                  		exx								// restauramos regs.
     967   00:0942  C9                  		ret								// acabou, retorna
     968   00:0943                      ;
     969   00:0943                      ; ROTINA DE GERACAO DE TONS
     970   00:0943                      ;
     971   00:0943                      GE1KHZ:
     972   00:0943  0E 9A               		ld		c, V1KHZ				// gerar tom de 1KHz
     973   00:0945  18 02               		jr		TOM
     974   00:0947                      GE2KHZ:
     975   00:0947  0E 40               		ld		c, V2KHZ				// gerar tom de 2KHz
     976   00:0949                      TOM:
     977   00:0949  29                  		add		hl, hl					// duplicamos a quantidade de ciclos para termos
     978   00:094A  11 01 00            		ld		de, 1					// a quantidade de semiciclos
     979   00:094D  3E FF               		ld		a, 0FFh					// enviamos primeiro semiciclo positivo (PE0 = 1)
     980   00:094F                      QUAD:
     981   00:094F  D3 04               		out		(PPS), a				// setamos PE0
     982   00:0951  41                  		ld		b, c					// B contem delay que estava em C
     983   00:0952  10 FE               		djnz	$						// esperamos o tempo do delay
     984   00:0954  EE 01               		xor		1						// invertemos PE0 para gerar proximo semiciclo
     985   00:0956  ED 52               		sbc		hl, de					// decrementamos contador de semiciclos
     986   00:0958  20 F5               		jr		nz, QUAD				// ainda nao acabou de gerar a quantidade de ciclos
     987   00:095A  C9                  		ret								// agora acabou, voltamos
     988   00:095B                      ;
     989   00:095B                      ; ROTINA DE LEITURA DE FITA
     990   00:095B                      ;
     991   00:095B                      LFITA:
     992   00:095B  3E FF               		ld		a, DIG_APAG				// Apaga 2 ultimos digitos
     993   00:095D  32 5E 9B            		ld		(DISP+4), a
     994   00:0960  32 5F 9B            		ld		(DISP+5), a
     995   00:0963  2A 50 9B            		ld		hl, (BUF)				// HL contem titulo
     996   00:0966  22 57 9B            		ld		(BUFT), hl				// salvamos titulo em BUFT
     997   00:0969                      COND1:
     998   00:0969  3E FF               		ld		a, 0FFh
     999   00:096B  D3 03               		out		(PDIG), a				// seta todos displays
    1000   00:096D  3E BF               		ld		a, 0BFh
    1001   00:096F  D3 01               		out		(PSEG), a				// seta segmento G "---- --"
    1002   00:0971  21 E8 03            		ld		hl, 1000				// contador do pulso de sincronismo, pelo menos 1 segundo estavel
    1003   00:0974                      COND2:
    1004   00:0974  CD D7 09            		call	PERIOD					// Mede tamanho do ciclo
    1005   00:0977  38 F0               		jr		c, COND1				// nao eh tom de 1KHz, voltamos ao inicio
    1006   00:0979  2B                  		dec		hl						// temos um tom de 1KHz, decrementamos contador do sincronismo
    1007   00:097A  7C                  		ld		a, h					// testamos se contador chegou a zero
    1008   00:097B  B5                  		or		l						//
    1009   00:097C  20 F6               		jr		nz, COND2				// enquanto nao zeramos contador de sinc., volta ao loop
    1010   00:097E                      COND3:
    1011   00:097E  CD D7 09            		call	PERIOD					// aqui temos 1 segundo de sinc. 1KHz estavel
    1012   00:0981  30 FB               		jr		nc, COND3				// esperamos o restante do sincronismo
    1013   00:0983  21 50 9B            		ld		hl, BUF					// apontamos para o BUF
    1014   00:0986  01 07 00            		ld		bc, 7					// 7 bytes do cabecalho
    1015   00:0989  CD F4 09            		call	ENFITA					// lemos os 7 bytes do cabecalho em BUF
    1016   00:098C  38 DB               		jr		c, COND1				// se houve erro voltamos a estaca zero
    1017   00:098E  01 5C 9B            		ld		bc, DISP+2				// vamos exibir o titulo lido na fita
    1018   00:0991  21 50 9B            		ld		hl, BUF					// como a leitura foi em little-endian
    1019   00:0994  CD 76 01            		call	DISPLAY					// mostramos o primeiro byte (LSB) no segundo par do display
    1020   00:0997  23                  		inc		hl						// e o segundo byte (MSB) no primeiro par do display
    1021   00:0998  01 5A 9B            		ld		bc, DISP
    1022   00:099B  CD 76 01            		call	DISPLAY
    1023   00:099E  ED 5B 50 9B         		ld		de, (BUF)				// vamos manter a atualizacao do titulo no display
    1024   00:09A2  06 20               		ld		b, 32					// por um delay de 32
    1025   00:09A4                      LOOP2:
    1026   00:09A4  21 5A 9B            		ld		hl, DISP
    1027   00:09A7  CD A2 00            		call	REST
    1028   00:09AA  10 F8               		djnz	LOOP2					// enquanto o delay nao acabar, atualizamos o display
    1029   00:09AC  2A 57 9B            		ld		hl, (BUFT)
    1030   00:09AF  00                  		nop
    1031   00:09B0  B7                  		or		a
    1032   00:09B1  ED 52               		sbc		hl, de					// testamos se o titulo lido bate com o esperado
    1033   00:09B3  C2 69 09            		jp		nz, COND1				// se nao for o que o usuario pediu volta e espera novo arquivo
    1034   00:09B6  3E FF               		ld		a, 0FFh
    1035   00:09B8  D3 03               		out		(PDIG), a				// seta todos displays
    1036   00:09BA  3E FE               		ld		a, 0FEh
    1037   00:09BC  D3 01               		out		(PSEG), a				// seta segmento A "^^^^ ^^" para indicar que recebemos um cabecalho corretamente
    1038   00:09BE  CD F9 08            		call	PARAM					// calcula parametros
    1039   00:09C1  DA 2F 0A            		jp		c, MERRO				// se houve erro no cabecalho mostramos erro
    1040   00:09C4  CD F4 09            		call	ENFITA					// ler dados da fita
    1041   00:09C7  DA 2F 0A            		jp		c, MERRO				// mostra mensagem se houve erro
    1042   00:09CA  CD EC 08            		call	CBYTES					// calcula checksum
    1043   00:09CD  21 56 9B            		ld		hl, BUF+6				// pega checksum do cabecalho
    1044   00:09D0  BE                  		cp		(hl)					// compara
    1045   00:09D1  C2 2F 0A            		jp		nz, MERRO				// se checksum nao bateu, mostramos erro
    1046   00:09D4  C3 37 0A            		jp		MFIM					// leitura concluida!!
    1047   00:09D7                      ;
    1048   00:09D7                      ; ROTINA DE GERACAO DE PERIODOS
    1049   00:09D7                      ;
    1050   00:09D7                      PERIOD:
    1051   00:09D7  11 00 00            		ld		de, 0					// Contador de ciclos
    1052   00:09DA                      LOOP3:
    1053   00:09DA  DB 02               		in		a, (PPE)				// le porta K7 (bit 0)
    1054   00:09DC  13                  		inc		de						// incrementa contador
    1055   00:09DD  CB 1F               		rr		a						// joga bit lido (bit 0) para o carry
    1056   00:09DF  38 F9               		jr		c, LOOP3				// enquanto estiver recebendo 1 volta
    1057   00:09E1  3E 00               		ld		a, 00h					// envia 0 para o auto-falante de monitoramento
    1058   00:09E3  D3 04               		out		(PPS), a				// 
    1059   00:09E5                      LOOP4:
    1060   00:09E5  DB 02               		in		a, (PPE)				// le porta K7 (bit 0)
    1061   00:09E7  13                  		inc		de						// incrementa contador
    1062   00:09E8  CB 1F               		rr		a						// joga bit lido (bit 0) para o carry
    1063   00:09EA  30 F9               		jr		nc, LOOP4				// enquanto estiver recebendo 0 volta
    1064   00:09EC  3E FF               		ld		a, 0FFh					// envia 1 para o auto-falante de monitoramento
    1065   00:09EE  D3 04               		out		(PPS), a				// 
    1066   00:09F0  7B                  		ld		a, e					// testamos E (parte baixa contador)
    1067   00:09F1  FE 42               		cp		PERIOP					// compara com limiar entre 1KHz e 2KHz?
    1068   00:09F3  C9                  		ret
    1069   00:09F4                      ;
    1070   00:09F4                      ; ROTINA DE ENTRADA DE FITA
    1071   00:09F4                      ;
    1072   00:09F4                      ENFITA:
    1073   00:09F4  AF                  		xor		a						// zera A
    1074   00:09F5  08                  		ex		af, af					// salva A
    1075   00:09F6                      LOOP5:
    1076   00:09F6  CD 01 0A            		call	LEBYTE					// lemos 1 byte
    1077   00:09F9  73                  		ld		(hl), e					// salvamos em (hl)
    1078   00:09FA  ED A1               		cpi								// incrementa HL e decrementa BC
    1079   00:09FC  EA F6 09            		jp		pe, LOOP5				// enquanto BC não for -1, voltamos para o loop
    1080   00:09FF  08                  		ex		af, af					// recupera A (que agora esta em 0)
    1081   00:0A00  C9                  		ret
    1082   00:0A01                      ;
    1083   00:0A01                      ; ROTINA DE LEITURA DE BYTES
    1084   00:0A01                      ;
    1085   00:0A01                      LEBYTE:
    1086   00:0A01  CD 12 0A            		call	LEBIT					// lemos o bit de start (0)
    1087   00:0A04  16 08               		ld		d, 8					// vamos ler 8 bits
    1088   00:0A06                      LOOP6:
    1089   00:0A06  CD 12 0A            		call	LEBIT					// ler o bit (vem no carry)
    1090   00:0A09  CB 1B               		rr		e						// rotacionamos para o MSB do reg. E
    1091   00:0A0B  15                  		dec		d						// decrementa contador de bits
    1092   00:0A0C  20 F8               		jr		nz, LOOP6				// se ainda nao acabou de ler os 8 bits volta para o loop
    1093   00:0A0E  CD 12 0A            		call	LEBIT					// lemos o bit de stop (1)
    1094   00:0A11  C9                  		ret
    1095   00:0A12                      ;
    1096   00:0A12                      ; ROTINA DE LEITURA DE BITS
    1097   00:0A12                      ;
    1098   00:0A12                      LEBIT:
    1099   00:0A12  D9                  		exx								// salvamos os registradores
    1100   00:0A13  21 00 00            		ld		hl, 0					// contador do que?
    1101   00:0A16                      LOOP7:
    1102   00:0A16  CD D7 09            		call	PERIOD					// calculamos o tamanho do ciclo, carry indica se é 1KHz (C=0) ou 2KHz (C=1)
    1103   00:0A19                      //		inc		d						// porque incrementa D?
    1104   00:0A19                      //		jr		nz, ERROT				// altera a flag C tambem? tirei por dar erro
    1105   00:0A19  38 06               		jr		c, PERR					// se for 2KHz pula
    1106   00:0A1B  2D                  		dec		l						// temos um pulso de 1KHz
    1107   00:0A1C  2D                  		dec		l						// decrementamos L duas vezes
    1108   00:0A1D  CB C4               		set 	0, h					// e setamos bit 0 do reg. H
    1109   00:0A1F  18 F5               		jr		LOOP7					// voltamos ao loop
    1110   00:0A21                      PERR:
    1111   00:0A21  2C                  		inc		l						// temos um pulso de 2KHz, incrementamos L
    1112   00:0A22  CB 44               		bit		0, h					// testamos se bit 0 do reg. H ja foi setado
    1113   00:0A24  28 F0               		jr		z, LOOP7				// se nao foi setado, voltamos ao loop
    1114   00:0A26  CB 15               		rl		l						// se o bit lido for 0 (8 ciclos 2KHz e 2 ciclos 1KHz) teremos L = 4
    1115   00:0A28  D9                  		exx								// se o bit lido for 1 (4 ciclos 2KHz e 4 ciclos 1KHz) teremos L= -4
    1116   00:0A29  C9                  		ret								// entao carry sai 0 se bit for 0 ou carry sai 1 se bit for 1 (restauramos os regs.)
    1117   00:0A2A                      ;
    1118   00:0A2A                      ; ROTINA DE ERRO DE TRANSMISSAO
    1119   00:0A2A                      ;
    1120   00:0A2A                      ERROT:
    1121   00:0A2A  08                  		ex		af, af					// trocamos AF por AF'
    1122   00:0A2B  37                  		scf								// setamos o carry em AF'
    1123   00:0A2C  08                  		ex		af, af					// voltamos de AF' para AF
    1124   00:0A2D  D9                  		exx								// restauramos os regs. salvos anteriormente
    1125   00:0A2E  C9                  		ret								// e retornamos
    1126   00:0A2F                      MERRO:
    1127   00:0A2F  21 3F 0A            		ld		hl, ERRO				// houve erro, exibimos a mensagem no display
    1128   00:0A32  CD A2 00            		call	REST					// eternamente
    1129   00:0A35  18 F8               		jr		MERRO
    1130   00:0A37                      MFIM:
    1131   00:0A37  21 45 0A            		ld		hl, FIM					// acabou o procedimento, exibimos "FIN" no display
    1132   00:0A3A  CD A2 00            		call	REST					// eternamente
    1133   00:0A3D  18 F8               		jr		MFIM
    1134   00:0A3F                      
    1135   00:0A3F  86 CE CE C0 FF FF   ERRO:		db		DIG_E, DIG_R, DIG_R, DIG_O, DIG_APAG, DIG_APAG
    1136   00:0A45  8E F9 C8 FF FF FF   FIM:		db		DIG_F, DIG_I, DIG_N, DIG_APAG, DIG_APAG, DIG_APAG
    1137   00:0A4B  87 F9 87 C1 C7 C0   TITULO:	db		DIG_T, DIG_I, DIG_T, DIG_U, DIG_L, DIG_O
    1138   00:0A51  8E C0 C8 87 86 FF   MFONTE:	db		DIG_F, DIG_O, DIG_N, DIG_T, DIG_E, DIG_APAG
    1139   00:0A57  8E F9 C8 88 C7 FF   MFINAL:	db		DIG_F, DIG_I, DIG_N, DIG_A, DIG_L, DIG_APAG
    1140   00:0A5D                      
    1141   00:0A5D                      /* Constantes e posicoes da RAM */
    1142   00:0A5D  (00:0008)           ZERO2K		= 8
    1143   00:0A5D  (00:0002)           ZERO1K		= 2
    1144   00:0A5D  (00:0004)           UM2K		= 4
    1145   00:0A5D  (00:0004)           UM1K		= 4
    1146   00:0A5D  (00:0042)           PERIOP		= 66
    1147   00:0A5D  (00:009A)           V1KHZ		= 9Ah
    1148   00:0A5D  (00:0040)           V2KHZ		= 40h
    1149   00:0A5D  (00:0100)           ATRASO		= 0100h
    1150   00:0A5D                      
    1151   00:0A5D                      // End RAM
    1152   00:0A5D  (00:9B50)           BUF			= 9B50h
    1153   00:0A5D  (00:9B57)           BUFT		= 9B57h
    1154   00:0A5D  (00:9B59)           CONT		= 9B59h
    1155   00:0A5D  (00:9B5A)           DISP		= 9B5Ah
    1156   00:0A5D  (00:9BE5)           MENCON		= 9BE5h
    1157   00:0A5D  (00:9BE6)           FLAG		= 9BE6h
    1158   00:0A5D  (00:9BE7)           BUFDIS		= 9BE7h
    1159   00:0A5D  (00:9BEB)           BYTE5		= 9BEBh
    1160   00:0A5D  (00:9BED)           ENDISP		= 9BEDh
    1161   00:0A5D  (00:9BEE)           PBE			= 9BEEh
    1162   00:0A5D  (00:9BEF)           PAE			= 9BEFh
    1163   00:0A5D  (00:9BF0)           ROT			= 9BF0h
    1164   00:0A5D  (00:9BF2)           ROTINT      = 9BF2h
    1165   00:0A5D  (00:9BF7)           MENI		= 9BF7h
    1166   00:0A5D  (00:9BF8)           MENF		= 9BF8h
    1167   00:0A5D  (00:9BF9)           MENA		= 9BF9h
    1168   00:0A5D  (00:9BFA)           MENL		= 9BFAh
    1169   00:0A5D  (00:9BFB)           MENH		= 9BFBh
    1170   00:0A5D  (00:9BFC)           MENE		= 9BFCh
    1171   00:0A5D  (00:9BFD)           MEND		= 9BFDh
    1172   00:0A5D  (00:9BFE)           MENC		= 9BFEh
    1173   00:0A5D  (00:9BFF)           MENB		= 9BFFh
    1174   00:0A5D  (00:9C00)           PILHAI      = 9C00h
    1175   00:0A5D  (00:9BE4)           PILHAT      = 9BE4h
    1176   00:0A5D  (00:9BF8)           PILHARR     = 9BF8h

    LABELS
-------------------------------------------------
00:00000001   PTEC
00:00000001   PSEG
00:00000002   PPE
00:00000003   PDIG
00:00000004   PPS
00:00000000 X KEY_0
00:00000001 X KEY_1
00:00000002 X KEY_2
00:00000003 X KEY_3
00:00000004 X KEY_4
00:00000005 X KEY_5
00:00000006 X KEY_6
00:00000007 X KEY_7
00:00000008 X KEY_8
00:00000009 X KEY_9
00:0000000A X KEY_A
00:0000000B X KEY_B
00:0000000C X KEY_C
00:0000000D X KEY_D
00:0000000E X KEY_E
00:0000000F X KEY_F
00:00000010   KEY_PERM
00:00000011 X KEY_LOAD
00:00000012 X KEY_1M
00:00000013   KEY_1P
00:00000014   KEY_RUN
00:00000015   KEY_ER
00:00000016 X KEY_IV
00:00000017   KEY_QUAD
00:000000FF   DIG_APAG
00:000000C0   DIG_0
00:000000F9   DIG_1
00:000000A4   DIG_2
00:000000B0   DIG_3
00:00000099   DIG_4
00:00000092   DIG_5
00:00000082   DIG_6
00:000000F8   DIG_7
00:00000080   DIG_8
00:00000090   DIG_9
00:00000088   DIG_A
00:00000083   DIG_B
00:000000C6   DIG_C
00:000000A1   DIG_D
00:00000086   DIG_E
00:0000008E   DIG_F
00:00000082 X DIG_G
00:00000089   DIG_H
00:000000F9   DIG_I
00:000000E1 X DIG_J
00:000000C7   DIG_L
00:000000C8   DIG_N
00:000000C0   DIG_O
00:0000008C X DIG_P
00:00000098 X DIG_Q
00:000000CE   DIG_R
00:00000092   DIG_S
00:00000087   DIG_T
00:000000C1   DIG_U
00:0000007F   DIG_PONTO
00:000000B7   DIG_IGUAL
00:00000000 X RESET
00:00000017   INICIO
00:00000023   NE1
00:00000032   NE2
00:00000050   P1
00:0000005A   NE5
00:0000005D   NE6
00:00000069   MENS
00:0000006F   RECCOM
00:0000007D   NE3
00:00000089   NE4
00:00000096   VARR
00:000000A2   REST
00:000000A6   NE7
00:000000AF   TEMPO
00:000000B9   LOOP1
00:000000C3   AJCOL
00:000000DC   NE8
00:000000DE   AJTEC
00:000000E4   NE10
00:000000F1   NE9
00:000000F6   ALTCOM
00:000000FB   ROTPER
00:00000105   NE11
00:00000117   ROTCP
00:00000126   ROTLT
00:00000137   ROTCD
00:00000148   ATUAL
00:0000015A   DECOD
00:00000169   RAME
00:00000176   DISPLAY
00:0000018E   FORMAT
00:00000197   INTD
00:000001A7   ROTPR
00:000001B7   ROTUL
00:000001CA   ROTRD
00:000001E4   ROTER
00:000001EC   INICIAL
00:000001F6   SELREG
00:00000200   NE12
00:00000207   ALTREG
00:00000212   REGA
00:00000220   ROTSA
00:00000229   ALTA
00:00000232   REGB
00:00000240   ALTB
00:00000249   REGC
00:00000257   ALTC
00:00000260   REGD
00:0000026E   ALTD
00:00000277   REGE
00:00000285   ALTE
00:0000028E   REGH
00:0000029C   ALTH
00:000002A5   REGL
00:000002B3   ALTL
00:000002BC   REGF
00:000002CA   ALTF
00:000002D3   REGI
00:000002E7   ALTI
00:000002F3   RIV
00:00000306   TABREG
00:0000031A   JR
00:0000031D   TABALT
00:00000332   TABCOM
00:00000800   K7
00:00000808   NEC1
00:00000810   NEC2
00:00000819   NEC3
00:00000826   NEC4
00:0000084B   NEC6
00:00000854   NEC5
00:00000864   GO
00:00000874   FONTE1
00:0000087F   FINAL1
00:0000088A   FILE
00:0000088F   FONTE
00:00000894   FINAL
00:00000897   GERAL
00:000008B7   GFITA
00:000008EC   CBYTES
00:000008F1   SOMA
00:000008F9   PARAM
00:0000090C   SAFITA
00:00000916   SABYTE
00:0000091C   LOOPC1
00:00000929   SAIBIT
00:0000092E X SAI0
00:00000937   SAI1
00:0000093E   FINAL2
00:00000943   GE1KHZ
00:00000947   GE2KHZ
00:00000949   TOM
00:0000094F   QUAD
00:0000095B   LFITA
00:00000969   COND1
00:00000974   COND2
00:0000097E   COND3
00:000009A4   LOOP2
00:000009D7   PERIOD
00:000009DA   LOOP3
00:000009E5   LOOP4
00:000009F4   ENFITA
00:000009F6   LOOP5
00:00000A01   LEBYTE
00:00000A06   LOOP6
00:00000A12   LEBIT
00:00000A16   LOOP7
00:00000A21   PERR
00:00000A2A X ERROT
00:00000A2F   MERRO
00:00000A37   MFIM
00:00000A3F   ERRO
00:00000A45   FIM
00:00000A4B   TITULO
00:00000A51   MFONTE
00:00000A57   MFINAL
00:00000008   ZERO2K
00:00000002   ZERO1K
00:00000004   UM2K
00:00000004   UM1K
00:00000042   PERIOP
00:0000009A   V1KHZ
00:00000040   V2KHZ
00:00000100   ATRASO
00:00009B50   BUF
00:00009B57   BUFT
00:00009B59   CONT
00:00009B5A   DISP
00:00009BE5   MENCON
00:00009BE6   FLAG
00:00009BE7   BUFDIS
00:00009BEB   BYTE5
00:00009BED   ENDISP
00:00009BEE   PBE
00:00009BEF   PAE
00:00009BF0   ROT
00:00009BF2   ROTINT
00:00009BF7   MENI
00:00009BF8   MENF
00:00009BF9   MENA
00:00009BFA   MENL
00:00009BFB   MENH
00:00009BFC   MENE
00:00009BFD   MEND
00:00009BFE   MENC
00:00009BFF   MENB
00:00009C00   PILHAI
00:00009BE4   PILHAT
00:00009BF8   PILHARR


 Output: monitor_k7.out
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: *  Used: 00000000

    No output

 Output: NESTOR.ROM
-------------------------------------------------

 Page: 00
  Org: 00000000  Size: 00001000  Used: 00000A5D

   Address   Length Align   Label
   00000000     100     @   RESET
   00000064       2       <empty>
   00000066     981     @   MENS
   0000043B     965       <empty>
   00000800     605     @   K7
   00000A5D    1443       <empty>
